# js-ieee754

Lightweight helpers to convert between JavaScript numbers and IEEE‑754 binary representations (half/single/double precision).

This repository has been migrated to **TypeScript**. Source files live under `src/` and compiled JavaScript and type declarations are emitted to `lib/` when you run the build script.

---

## Quick highlights

- Supports `half` (16‑bit), `single` (32‑bit) and `double` (64‑bit) precision.
- Exposes two primary functions:
  - `getPrecision(number, options)`
  - `getDecimal(value, options)`
- Handles special values: `NaN`, `Infinity`, `-Infinity`, `+0`, `-0` and denormals.

## Installation

```bash
npm install
```

## Build (TypeScript)

```bash
npm run build
# emits compiled JS and type declarations to lib/
```

## Tests

Tests run under Jest with `ts-jest`, allowing them to execute against the TypeScript sources directly. Run the suite with:

```bash
npm test
```

## Usage

### CommonJS (Node)

```javascript
const ieee754 = require('./'); // loads compiled lib/index.js when installed

const bin = ieee754.getPrecision(1000.5, { mode: 'single' });
const bytes = ieee754.getPrecision(1000.5, { mode: 'single', returnType: '8bitArray' });
const num = ieee754.getDecimal('01000100011110100010000000000000', { mode: 'single' });
```

### ESM / TypeScript import

```ts
import * as ieee754 from './';

const bytes = ieee754.getPrecision(1000.5, { mode: 'single', returnType: '8bitArray' });
```

## API Summary

### `getPrecision(value: number, options)`
- `options.mode`: `'half' | 'single' | 'double'` (required)
- `options.returnType` (optional): `'8bitArray' | '16bitArray'`. If omitted, returns a binary string.
- Returns a binary string or an array of integers depending on `returnType`.

### `getDecimal(value: string | number[], options)`
- `value`: binary string or array of 8‑bit/16‑bit integers representing IEEE‑754 bits.
- `options.mode`: `'half' | 'single' | 'double'` (required)
- Returns a JavaScript `number`.

## Project layout

- `index.ts` — library entry point exporting `getPrecision` and `getDecimal`.
- `src/*.ts` — implementation modules (migrated from original JS).
- `lib/` — compiled output (`lib/index.js`, `lib/index.d.ts`) generated by the build script.
- `package.json` points `main` at `lib/index.js` and `types` at `lib/index.d.ts`.

> **Note:** Tests use `ts-jest` so you don’t need to build before running them.

## Contributing

Contributions are welcome! Open issues or PRs, and when modifying code prefer editing TypeScript sources and run the test suite locally.

## License

This project is MIT licensed. See the `LICENSE` file for details.
